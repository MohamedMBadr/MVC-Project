@model IEnumerable<EmployeeViewModel>
@{
    ViewData["Title"] = "All Employees";
}

<h1>All Employees</h1>

@*<div class="alert alert-dark">
    @ViewData["massage"]
</div>
*@
@*<div class="alert alert-info">
    @ViewBag.massage;
</div>*@
<br />
<br/>

<a asp-controller="Employee" asp-action="Create" class="btn btn-primary m-2">Add New Employee</a>

<div class="row justify-content-center align-items-center  mt-4 ">
    <form asp-action="Index" class=" col-8  row ">
        <div class="col-8">
            <input type="text" class="form-control " name="SearchValue" placeholder="Enter Employee Name " />
        </div>
        <div class="col-4">
            <input  type="submit" class="btn btn-success " value="Search" / >
        </div>
    </form>
</div>
@if (Model.Count() > 0)
{
    <table class="table table-striped table-hover mt-3">
        <thead>
            <tr>
                <td>@Html.DisplayNameFor(e=>e.Name)</td>
                <td>@Html.DisplayNameFor(e=>e.Age)</td>
                <td>@Html.DisplayNameFor(e=>e.Addres)</td>
                <td>@Html.DisplayNameFor(e=>e.Image)</td>
                <td>@Html.DisplayNameFor(e=>e.Department)</td>

                <td>@Html.DisplayNameFor(e=>e.Salary)</td>
                <td>@Html.DisplayNameFor(e=>e.IsActive)</td>
                <td>@Html.DisplayNameFor(e=>e.Email)</td>
                <td>@Html.DisplayNameFor(e=>e.PhoneNumber)</td>
                <td>@Html.DisplayNameFor(e=>e.HireDate)</td>

                <td>Details</td>
                <td>Update</td>
                <td>Delete</td>
                
            </tr>
        </thead>

        <tbody>
            @foreach(var Employee in Model)
            {
                <tr>
                    <td>@Employee.Name</td> 
                    <td>@Employee.Age</td>
                    <td>@Employee.Addres</td>
                    <td>
                        <img src="~/files/images/@Employee.ImageName" class="img-fluid rounded " alt="@Employee.Name" height="30" />
                    </td>

                    @*<td>@Html.DisplayNameFor(e=>e.Department.name)</td>*@
                    <td>@Employee.Department?.name</td>

                    <td>@Html.DisplayFor(m=> Employee.Salary)</td>
                    <td>@Html.DisplayFor(m=> Employee.IsActive)</td>
                    <td>@Html.DisplayFor(m=> Employee.Email)</td>
                    <td>@Employee.PhoneNumber</td>
                    <td>@Employee.HireDate</td>
                    <partial name="_ButtonPartialView" model="@Employee.Id"/>

                </tr>
            }

        </tbody>
    </table>
}else{
    <div class="alert mt-3 alert-warning">
        <h3 class="m-2">
            There is no Employees
        </h3>
    </div>
}